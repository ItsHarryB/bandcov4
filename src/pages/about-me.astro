---
import BaseLayout from '../layouts/BaseLayout.astro';
import { Image, getImage } from 'astro:assets';
import PhotoCarousel from '../components/PhotoCarousel.jsx';
import '../styles/about-me.css';

const pageTitle = "About Me";

// Import images
import graduationPhoto from '../assets/images/harry-brighton-graduation-2024.JPG';
import pennyImg from '../assets/images/penny.jpg';
import poppyImg from '../assets/images/poppy.jpg';
import lunaImg from '../assets/images/luna.jpg';
import badmintonImg from '../assets/images/badminton.jpg';
import mycomputerImg from '../assets/images/mycomputer.jpg';
import atgymImg from '../assets/images/atgym.jpg';

// Pre-process images with aggressive optimization
const petImages = await Promise.all([
  getImage({ src: pennyImg, width: 800, height: 600, format: 'webp', quality: 80 }),
  getImage({ src: poppyImg, width: 800, height: 600, format: 'webp', quality: 80 }),
  getImage({ src: lunaImg, width: 800, height: 600, format: 'webp', quality: 80 }),
]).then(images => images.map((img, i) => ({
  src: img.src,
  srcSet: img.srcSet?.attribute, // Include srcset if available
  alt: ['Penny the black cat', 'Poppy the grey cat', 'Luna the big cat'][i]
})));

const hobbiesImages = await Promise.all([
  getImage({ src: badmintonImg, width: 800, height: 600, format: 'webp', quality: 80 }),
  getImage({ src: mycomputerImg, width: 800, height: 600, format: 'webp', quality: 80 }),
  getImage({ src: atgymImg, width: 800, height: 600, format: 'webp', quality: 80 }),
]).then(images => images.map((img, i) => ({
  src: img.src,
  srcSet: img.srcSet?.attribute,
  alt: ['Me and my girlfriend playing badminton', 'My Computer', 'Me at the gym'][i]
})));
---
<BaseLayout>
  <div class="page-center">
    <h1>{pageTitle}</h1>
  </div>

  <section class="about-cards">

    <!-- About Me card -->
    <div class="card about-me">
      <div class="about-content">
        <div class="about-text">
          <h2>Who I Am</h2>
          <p>I'm Harry Brighton. My main interests include PCs, technology, photography, and sports (mainly badminton and tennis).</p>
        </div>
        <figure class="about-photo">
          <Image 
            src={graduationPhoto} 
            alt="Harry Brighton portrait"
            width={600}
            height={600}
            quality={80}
            format="webp"
            loading="eager"
            densities={[1, 2]}
          />
          <figcaption>My Graduation photo from 2024.</figcaption>
        </figure>
      </div>
    </div>

    <!-- Education card -->
    <div class="card">
      <h2>Education:</h2>
      <ul class="custom-bullets">
        <li>I graduated from the University of Sheffield in 2024 with a 2:1 in Law LLB.</li>
        <li>I studied areas of law including: administrative, contract, criminal, employment, property (including equity and trusts), and public law.</li>
        <li>I finished my Master's Degree in MA Politics, Governance and Public Policy at the end of August 2025 - also at the University of Sheffield.</li>
      </ul>
    </div>

    <!-- Professional Interests card -->
    <div class="card">
      <h2>Professional Interests:</h2>
      <a href="/cv" class="inline-link">View my CV</a>
      <ul class="custom-bullets">
        <li>Policymaking and analysis on matters including transport, regeneration, local government and assurance.</li>
        <li>The focus of my Master's dissertation was on the public transport systems of Greater Manchester and Greater London, judging them through the lens of Positive Public Policy, within the context of English Devolution.</li>
      </ul>
    </div>

    <!-- Pets card with React carousel -->
    <div class="card">
      <h2>My Pets:</h2>
      <p>I have three cats and a dog!</p>
      <p>Here you can see:</p>
      <ul class="custom-bullets">
        <li>Penny (the black cat)</li>
        <li>Poppy (the grey-coloured cat)</li>
        <li>Luna (the big cat)</li>
      </ul>
      <PhotoCarousel client:load images={petImages} />
    </div>
    
    <div class="card">
      <h2>My Hobbies:</h2>
      <p>I really enjoy playing sports with my girlfriend (especially badminton), as well as gaming and going to the gym!</p>
      <p>Another one of my favourite hobbies is 
     <a href="/photography" class="inline-link">photography</a>.
      </p>
      <PhotoCarousel client:load images={hobbiesImages} />
    </div>
  </section>
</BaseLayout>
